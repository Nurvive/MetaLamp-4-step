{"mappings":"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","sources":["src/slider/Observer.ts","src/slider/subView/HeadBubble.ts","src/slider/subView/ViewHead.ts","src/slider/subView/Scale.ts","src/slider/subView/Line.ts","src/slider/View.ts","src/slider/Presenter.ts","src/slider/Model.ts","src/slider/Slider.ts","src/slider/jquery.slider.js","src/blocks/slider-template/slider-template.ts","src/index/index.ts"],"sourcesContent":["import {NotifyData} from './types/types';\r\n\r\nimport {EventType, ObserverItem} from './types/types';\r\n\r\ntype ObserverStore = {\r\n    eventType: EventType\r\n    observer: ObserverItem\r\n}\r\n\r\nclass Observer {\r\n    observers: ObserverStore[];\r\n\r\n    constructor() {\r\n        this.observers = [];\r\n    }\r\n\r\n    subscribe(eventType: EventType, observer: ObserverItem): void {\r\n        this.observers.push({\r\n            eventType: eventType,\r\n            observer: observer\r\n        });\r\n    }\r\n\r\n    unsubscribe(eventType: EventType, observer: ObserverItem): void {\r\n        this.observers = this.observers.filter((item) => item.observer !== observer);\r\n    }\r\n\r\n    notify(eventType: EventType, data: NotifyData): void {\r\n        this.observers.forEach((item) => {\r\n            if (item.eventType === eventType) {\r\n                item.observer(data);\r\n            }\r\n        });\r\n    }\r\n}\r\n\r\nexport {Observer};\r\n","import {HeadType} from '../types/types';\r\n\r\nclass HeadBubble {\r\n    element: HTMLElement;\r\n\r\n    parent: HTMLElement;\r\n\r\n    type: HeadType\r\n\r\n    constructor(parent: HTMLElement, type: HeadType) {\r\n        this.parent = parent;\r\n        this.type = type;\r\n        this.element = document.createElement('span');\r\n        this.init();\r\n    }\r\n\r\n    init(): void {\r\n        this.element.classList.add('slider__head-bubble');\r\n        this.element.setAttribute('data-type', 'bubble');\r\n        if (this.type === 'to') {\r\n            this.element.setAttribute('data-valueTo', 'true');\r\n        } else {\r\n            this.element.setAttribute('data-valueFrom', 'true');\r\n        }\r\n        this.parent.append(this.element);\r\n    }\r\n\r\n    update(value: number): void {\r\n        this.element.textContent = String(value);\r\n    }\r\n\r\n    onActive(): void {\r\n        this.element.classList.add('slider__head-bubble_grabbing');\r\n    }\r\n\r\n    offActive(): void {\r\n        this.element.classList.remove('slider__head-bubble_grabbing');\r\n    }\r\n\r\n    show(): void {\r\n        this.element.classList.add('slider__head-bubble_active');\r\n    }\r\n\r\n    hide(): void {\r\n        this.element.classList.remove('slider__head-bubble_active');\r\n    }\r\n}\r\n\r\nexport default HeadBubble;\r\n","import HeadBubble from './HeadBubble';\r\nimport {HeadType, ViewHeadCreate} from '../types/types';\r\n\r\nclass ViewHead {\r\n    parent: HTMLElement;\r\n\r\n    direction: string;\r\n\r\n    element: HTMLElement;\r\n\r\n    bubble: HeadBubble;\r\n\r\n    type: HeadType;\r\n\r\n    constructor({\r\n        parent,\r\n        direction,\r\n        value,\r\n        bubbleValue,\r\n        type\r\n    }: ViewHeadCreate) {\r\n        this.parent = parent;\r\n        this.direction = direction;\r\n        this.element = document.createElement('div');\r\n        this.type = type;\r\n        this.bubble = new HeadBubble(this.element, this.type);\r\n        this.updatePosition(value);\r\n        this.updateBubble(bubbleValue);\r\n        this.init();\r\n    }\r\n\r\n    init(): void {\r\n        this.element.classList.add('slider__head');\r\n        if (this.type === 'to') {\r\n            this.element.setAttribute('data-valueTo', 'true');\r\n        } else {\r\n            this.element.setAttribute('data-valueFrom', 'true');\r\n        }\r\n        this.direction === 'horizontal'\r\n            ? this.element.classList.add('slider__head')\r\n            : this.element.classList.add('slider__head', 'slider__head_vertical');\r\n        this.parent.append(this.element);\r\n        this.element.addEventListener('mousedown', this.handleHeadStart);\r\n        this.element.addEventListener('touchstart', this.handleHeadStart);\r\n    }\r\n\r\n    handleHeadStart = (e: MouseEvent | TouchEvent): void => {\r\n        this.onActive();\r\n        const headEvent = new CustomEvent('headStart', {\r\n            detail: {\r\n                data: e\r\n            }\r\n        });\r\n        this.parent.dispatchEvent(headEvent);\r\n    };\r\n\r\n    onActive(): void {\r\n        this.element.classList.add('slider__head_active');\r\n        this.bubble.onActive();\r\n    }\r\n\r\n    offActive(): void {\r\n        this.element.classList.remove('slider__head_active');\r\n        this.bubble.offActive();\r\n    }\r\n\r\n    removeHead(): boolean {\r\n        this.element.remove();\r\n        return true;\r\n    }\r\n\r\n    updatePosition(newPos: number): void {\r\n        if (this.direction === 'horizontal') {\r\n            this.element.style.left = `${newPos * 100}%`;\r\n        } else {\r\n            this.element.style.top = `${newPos * 100}%`;\r\n        }\r\n    }\r\n\r\n    updateBubble(value: number): void {\r\n        if (this.bubble) {\r\n            this.bubble.update(value);\r\n        }\r\n    }\r\n\r\n    showBubble(): void {\r\n        this.bubble.show();\r\n    }\r\n\r\n    hideBubble(): void {\r\n        this.bubble.hide();\r\n    }\r\n\r\n    get width(): number {\r\n        return this.element.getBoundingClientRect().width;\r\n    }\r\n\r\n    get height(): number {\r\n        return this.element.getBoundingClientRect().height;\r\n    }\r\n\r\n    high(): void {\r\n        this.element.classList.add('slider__head_high');\r\n    }\r\n\r\n    down(): void {\r\n        this.element.classList.remove('slider__head_high');\r\n    }\r\n}\r\n\r\nexport default ViewHead;\r\n","import {ScaleCreate} from '../types/types';\r\n\r\nclass Scale {\r\n    parent: HTMLElement;\r\n\r\n    direction: string;\r\n\r\n    element: HTMLElement;\r\n\r\n    constructor({\r\n        parent,\r\n        direction,\r\n        min,\r\n        max\r\n    }: ScaleCreate) {\r\n        this.parent = parent;\r\n        this.direction = direction;\r\n        this.element = document.createElement('div');\r\n        this.init(min, max);\r\n    }\r\n\r\n    init(min: number, max: number): void {\r\n        this.direction === 'horizontal'\r\n            ? this.element.classList.add('slider__scale')\r\n            : this.element.classList.add('slider__scale', 'slider__scale_vertical');\r\n        this.parent.append(this.element);\r\n        const step = (max - min) / 4;\r\n        for (let i = 0; i <= 100; i += 5) {\r\n            const dash = document.createElement('div');\r\n            dash.classList.add('slider__dash');\r\n            if (i % 25 === 0) {\r\n                const scaleNumber = document.createElement('div');\r\n                scaleNumber.classList.add('slider__scale-number');\r\n                if (this.direction === 'horizontal') {\r\n                    dash.style.left = `${i}%`;\r\n                    scaleNumber.style.left = `${i}%`;\r\n                    dash.append(scaleNumber);\r\n                    this.element.append(dash);\r\n                } else {\r\n                    dash.style.top = `${i}%`;\r\n                    dash.classList.add('slider__dash_vertical');\r\n                    scaleNumber.style.top = `${i}%`;\r\n                    scaleNumber.classList.add('slider__scale-number_vertical');\r\n                    dash.append(scaleNumber);\r\n                    this.element.append(dash);\r\n                }\r\n                const numbers = this.element.querySelectorAll('.slider__scale-number');\r\n                const number = numbers[numbers.length - 1];\r\n                if (i === 0) {\r\n                    number.innerHTML = String(min);\r\n                } else {\r\n                    const dashValue = min + (i / 25) * step;\r\n                    number.innerHTML = Number.isInteger(dashValue)\r\n                        ? String(dashValue)\r\n                        : dashValue.toFixed(2);\r\n                }\r\n            } else if (this.direction === 'horizontal') {\r\n                dash.classList.add('slider__dash_small');\r\n                dash.style.left = `${i}%`;\r\n                this.element.append(dash);\r\n            } else {\r\n                dash.classList.add('slider__dash_small-vertical');\r\n                dash.style.top = `${i}%`;\r\n                this.element.append(dash);\r\n            }\r\n        }\r\n        this.element.addEventListener('click', this.handleScaleClick);\r\n    }\r\n\r\n    handleScaleClick = (e: MouseEvent | TouchEvent): void => {\r\n        const headEvent = new CustomEvent('scaleClick', {\r\n            detail: {\r\n                data: e\r\n            }\r\n        });\r\n        this.parent.dispatchEvent(headEvent);\r\n    };\r\n\r\n    removeScale(): void {\r\n        this.element.remove();\r\n    }\r\n\r\n    get width(): number {\r\n        return this.element.getBoundingClientRect().width;\r\n    }\r\n\r\n    get leftCoordinate(): number {\r\n        return this.element.getBoundingClientRect().left;\r\n    }\r\n\r\n    get height(): number {\r\n        return this.element.getBoundingClientRect().height;\r\n    }\r\n\r\n    get topCoordinate(): number {\r\n        return this.element.getBoundingClientRect().top;\r\n    }\r\n}\r\n\r\nexport default Scale;\r\n","import {LineCreate} from '../types/types';\r\n\r\nclass Line {\r\n    parent: HTMLElement;\r\n\r\n    direction: string;\r\n\r\n    element: HTMLElement;\r\n\r\n    progressBar: HTMLElement;\r\n\r\n    type: string;\r\n\r\n    constructor({\r\n        parent,\r\n        direction,\r\n        type\r\n    }: LineCreate) {\r\n        this.parent = parent;\r\n        this.direction = direction;\r\n        this.type = type;\r\n        this.element = document.createElement('div');\r\n        this.progressBar = document.createElement('span');\r\n        this.init();\r\n    }\r\n\r\n    init(): void {\r\n        if (this.direction === 'horizontal') {\r\n            this.element.classList.add('slider__line');\r\n            this.progressBar.classList.add('slider__line-progress');\r\n        } else {\r\n            this.element.classList.add('slider__line', 'slider__line_vertical');\r\n            this.progressBar.classList.add('slider__line-progress', 'slider__line-progress_vertical');\r\n        }\r\n        this.element.append(this.progressBar);\r\n        this.parent.append(this.element);\r\n        this.element.addEventListener('headStart', this.handleHeadStart);\r\n        this.element.addEventListener('scaleClick', this.handleScaleClick);\r\n    }\r\n\r\n    handleHeadStart = (e: CustomEvent): void => {\r\n        const headEvent = new CustomEvent('headStart', {\r\n            detail: {\r\n                data: e.detail.data\r\n            }\r\n        });\r\n        this.parent.dispatchEvent(headEvent);\r\n    };\r\n\r\n    handleScaleClick = (e: CustomEvent): void => {\r\n        const headEvent = new CustomEvent('scaleClick', {\r\n            detail: {\r\n                data: e.detail.data\r\n            }\r\n        });\r\n        this.parent.dispatchEvent(headEvent);\r\n    };\r\n\r\n    set Type(type: string) {\r\n        this.type = type;\r\n    }\r\n\r\n    progressValue(to: HTMLElement, from: HTMLElement | undefined): void {\r\n        if (this.direction === 'horizontal') {\r\n            if (this.type === 'single') {\r\n                this.progressBar.style.width = to.style.left;\r\n            } else if (from !== undefined) {\r\n                this.progressBar.style.width = `${parseInt(to.style.left, 10) - parseInt(from.style.left, 10)}%`;\r\n                this.progressBar.style.left = from.style.left;\r\n            }\r\n        } else if (this.type === 'single') {\r\n            this.progressBar.style.height = to.style.top;\r\n        } else if (from !== undefined) {\r\n            this.progressBar.style.height = `${parseInt(to.style.top, 10) - parseInt(from.style.top, 10)}%`;\r\n            this.progressBar.style.top = from.style.top;\r\n        }\r\n    }\r\n\r\n    removeLine(): void {\r\n        this.element.remove();\r\n    }\r\n\r\n    get width(): number {\r\n        return this.element.getBoundingClientRect().width;\r\n    }\r\n\r\n    get leftCoordinate(): number {\r\n        return this.element.getBoundingClientRect().left;\r\n    }\r\n\r\n    get height(): number {\r\n        return this.element.getBoundingClientRect().height;\r\n    }\r\n\r\n    get topCoordinate(): number {\r\n        return this.element.getBoundingClientRect().top;\r\n    }\r\n}\r\n\r\nexport default Line;\r\n","import {Observer} from './Observer';\r\nimport ViewHead from './subView/ViewHead';\r\nimport Scale from './subView/Scale';\r\nimport Line from './subView/Line';\r\nimport {\r\n    State, TargetType\r\n} from './types/types';\r\nimport {NotifyData} from './types/types';\r\n\r\nclass View extends Observer {\r\n    private readonly elem: HTMLElement;\r\n\r\n    private state: State;\r\n\r\n    head: ViewHead;\r\n\r\n    scale: Scale;\r\n\r\n    line: Line;\r\n\r\n    head2?: ViewHead;\r\n\r\n    private handleSwipe: (event: (MouseEvent | TouchEvent)) => Array<number>;\r\n\r\n    constructor(elem: HTMLElement, options: State) {\r\n        super();\r\n        this.elem = elem;\r\n        this.handleSwipe = () => [];\r\n        this.state = Object.assign({}, options);\r\n        this.line = new Line({\r\n            parent: this.elem,\r\n            direction: this.state.direction,\r\n            type: this.state.type\r\n        });\r\n        this.scale = new Scale({\r\n            parent: this.line.element,\r\n            direction: this.state.direction,\r\n            min: this.state.min,\r\n            max: this.state.max\r\n        });\r\n        const headStartPos = this.calcHeadStartPosition(this.state.valueTo);\r\n        this.head = new ViewHead({\r\n            parent: this.line.element,\r\n            direction: this.state.direction,\r\n            value: headStartPos,\r\n            bubbleValue: this.state.valueTo,\r\n            type: 'to'\r\n        });\r\n    }\r\n\r\n    init(): void {\r\n        if (this.state.type === 'double') {\r\n            const head2StartPos: number = this.calcHeadStartPosition(this.state.valueFrom);\r\n            this.head2 = new ViewHead({\r\n                parent: this.line.element,\r\n                direction: this.state.direction,\r\n                value: head2StartPos,\r\n                bubbleValue: this.state.valueFrom,\r\n                type: 'from'\r\n            });\r\n        }\r\n        if (this.state.bubble) {\r\n            this.head.showBubble();\r\n            if (this.state.type === 'double' && this.head2 !== undefined) {\r\n                this.head2.showBubble();\r\n            }\r\n        }\r\n        this.line.progressValue(this.head.element, this.head2?.element);\r\n        this.changeZIndex();\r\n        this.setup();\r\n    }\r\n\r\n    changePosition(data: NotifyData): void {\r\n        let position = 0;\r\n        if (data.valueNumber !== undefined) {\r\n            position = data.valueNumber;\r\n        } else {\r\n            throw new Error('Новое значение не определено');\r\n        }\r\n        if (data.target === 'valueTo') {\r\n            this.head.updatePosition(position);\r\n            this.head.updateBubble(this.state.valueTo);\r\n            this.state.onChangeTo(this.state.valueTo);\r\n            this.line.progressValue(this.head.element, this.head2?.element);\r\n        } else if (data.target === 'valueFrom' && this.head2 !== undefined) {\r\n            this.head2.updatePosition(position);\r\n            this.head2.updateBubble(this.state.valueFrom);\r\n            this.state.onChangeFrom(this.state.valueFrom);\r\n            this.line.progressValue(this.head.element, this.head2.element);\r\n        } else {\r\n            throw new Error('Head2 не существует');\r\n        }\r\n    }\r\n\r\n    hideBubble(data: NotifyData): void {\r\n        this.updateState({\r\n            target: data.target,\r\n            valueBoolean: data.valueBoolean\r\n        });\r\n        this.head.hideBubble();\r\n        this.head2?.hideBubble();\r\n    }\r\n\r\n    showBubble(data: NotifyData): void {\r\n        this.updateState({\r\n            target: data.target,\r\n            valueBoolean: data.valueBoolean\r\n        });\r\n        this.head.showBubble();\r\n        this.head2?.showBubble();\r\n    }\r\n\r\n    changeDirection(data: NotifyData): void {\r\n        this.updateState({\r\n            target: data.target,\r\n            valueString: data.valueString\r\n        });\r\n        this.head.removeHead();\r\n        this.head2?.removeHead();\r\n        this.scale.removeScale();\r\n        this.line.removeLine();\r\n        this.reInit();\r\n    }\r\n\r\n    changeType(data: NotifyData): void {\r\n        this.updateState({\r\n            target: data.target,\r\n            valueString: data.valueString\r\n        });\r\n        this.head.removeHead();\r\n        this.head2?.removeHead();\r\n        delete this.head2;\r\n        this.scale.removeScale();\r\n        this.line.removeLine();\r\n        this.reInit();\r\n    }\r\n\r\n    changeStep(data: NotifyData): void {\r\n        this.updateState({\r\n            target: data.target,\r\n            valueNumber: data.valueNumber\r\n        });\r\n    }\r\n\r\n    changeMaxMin(data: NotifyData): void {\r\n        this.updateState({\r\n            target: data.target,\r\n            valueNumber: data.valueNumber\r\n        });\r\n        this.head.removeHead();\r\n        this.head2?.removeHead();\r\n        this.scale.removeScale();\r\n        this.line.removeLine();\r\n        this.reInit();\r\n    }\r\n\r\n    updateState(data: NotifyData): void {\r\n        const target = data.target;\r\n        const value = View.getValueFromData(data);\r\n        this.state = {\r\n            ...this.state,\r\n            [target]: value\r\n        };\r\n    }\r\n\r\n    private reInit(): void {\r\n        this.line = new Line({\r\n            parent: this.elem,\r\n            direction: this.state.direction,\r\n            type: this.state.type\r\n        });\r\n        this.scale = new Scale({\r\n            parent: this.line.element,\r\n            direction: this.state.direction,\r\n            min: this.state.min,\r\n            max: this.state.max\r\n        });\r\n        const headStartPos = this.calcHeadStartPosition(this.state.valueTo);\r\n        this.head = new ViewHead({\r\n            parent: this.line.element,\r\n            direction: this.state.direction,\r\n            value: headStartPos,\r\n            bubbleValue: this.state.valueTo,\r\n            type: 'to'\r\n        });\r\n        this.init();\r\n    }\r\n\r\n    private setup(): void {\r\n        this.elem.addEventListener('headStart', this.handleHeadStart);\r\n        this.elem.addEventListener('scaleClick', this.handleScaleClick);\r\n    }\r\n\r\n    private static getValueFromData(data: NotifyData) {\r\n        let value;\r\n        Object.entries(data)\r\n            .forEach((key) => {\r\n                if (key[0] !== 'target') {\r\n                    value = key[1];\r\n                }\r\n            });\r\n        return value;\r\n    }\r\n\r\n    private calcHeadStartPosition(value: number): number {\r\n        return (value - this.state.min) / (this.state.max - this.state.min);\r\n    }\r\n\r\n    private static getEvent(event: MouseEvent | TouchEvent): Touch | MouseEvent {\r\n        if (event instanceof TouchEvent) {\r\n            return event.touches[0];\r\n        }\r\n        return event;\r\n    }\r\n\r\n    private handleHeadStart = (e: CustomEvent): Array<number> => {\r\n        const evt: MouseEvent | Touch = View.getEvent(e.detail.data);\r\n        // Здесь нужен каст через 'as', так как TS не знает, что target это html объект\r\n        const target = evt.target as Element;\r\n        const updatedHead: TargetType = target.hasAttribute('data-valueFrom') ? 'valueFrom' : 'valueTo';\r\n        const dataArray: Array<number> = [];\r\n        if (this.state.direction === 'horizontal') {\r\n            dataArray.push(target.getBoundingClientRect().left);\r\n            dataArray.push(evt.clientX);\r\n        } else {\r\n            dataArray.push(target.getBoundingClientRect().top);\r\n            dataArray.push(evt.clientY);\r\n        }\r\n        this.handleSwipe = (event: MouseEvent | TouchEvent): Array<number> => {\r\n            return this.swipeAction(event, dataArray, updatedHead);\r\n        };\r\n        document.addEventListener('touchmove', this.handleSwipe, {passive: false});\r\n        document.addEventListener('mousemove', this.handleSwipe);\r\n        document.addEventListener('touchend', this.handleSwipeEnd);\r\n        document.addEventListener('mouseup', this.handleSwipeEnd);\r\n        return dataArray;\r\n    };\r\n\r\n    private swipeAction = (event: MouseEvent | TouchEvent, dataArray: Array<number>,\r\n        updatedHead: TargetType):\r\n        Array<number> => {\r\n        event.preventDefault();\r\n        const evtSwipe: MouseEvent | Touch = View.getEvent(event);\r\n        if (this.state.direction === 'horizontal') {\r\n            dataArray.push(this.line.width);\r\n            dataArray.push(this.line.leftCoordinate);\r\n            dataArray.push(evtSwipe.clientX);\r\n        } else {\r\n            dataArray.push(this.line.height);\r\n            dataArray.push(this.line.topCoordinate);\r\n            dataArray.push(evtSwipe.clientY);\r\n        }\r\n        dataArray.push(this.head.width / 2);\r\n        this.notify('default', {\r\n            valueArray: dataArray.slice(),\r\n            target: updatedHead\r\n        });\r\n        dataArray.splice(2, dataArray.length - 2);\r\n        return dataArray;\r\n    };\r\n\r\n    private handleSwipeEnd = (): boolean => {\r\n        this.onEndWork();\r\n        document.removeEventListener('touchmove', this.handleSwipe);\r\n        document.removeEventListener('mousemove', this.handleSwipe);\r\n        document.removeEventListener('touchend', this.handleSwipeEnd);\r\n        document.removeEventListener('mouseup', this.handleSwipeEnd);\r\n        return true;\r\n    };\r\n\r\n    private onEndWork(): void {\r\n        this.head.offActive();\r\n        this.head2?.offActive();\r\n        this.changeZIndex();\r\n    }\r\n\r\n    private changeZIndex() {\r\n        const isInCorner = (): boolean => {\r\n            return this.state.valueTo >= (this.state.max - this.state.step * 2);\r\n        };\r\n        if (this.head2 && isInCorner()) {\r\n            this.head2.high();\r\n        } else if (this.head2) {\r\n            this.head2.down();\r\n        }\r\n    }\r\n\r\n    private handleScaleClick = (event: CustomEvent): Array<number> => {\r\n        const dataArray: Array<number> = this.scaleClickData(event);\r\n\r\n        this.notify('default', {\r\n            target: 'value',\r\n            valueArray: dataArray.slice()\r\n        });\r\n        this.changeZIndex();\r\n        return dataArray;\r\n    };\r\n\r\n    private scaleClickData(event: CustomEvent): Array<number> {\r\n        const evt: MouseEvent | Touch = View.getEvent(event.detail.data);\r\n        const dataArray: Array<number> = [];\r\n        if (this.state.direction === 'horizontal') {\r\n            dataArray.push(this.line.width);\r\n            dataArray.push(this.line.leftCoordinate);\r\n            dataArray.push(evt.clientX);\r\n        } else {\r\n            dataArray.push(this.line.height);\r\n            dataArray.push(this.line.topCoordinate);\r\n            dataArray.push(evt.clientY);\r\n        }\r\n        return dataArray;\r\n    }\r\n}\r\n\r\nexport {View};\r\n","import {Model} from './Model';\r\nimport {View} from './View';\r\n\r\nclass Presenter {\r\n    model: Model;\r\n\r\n    view: View;\r\n\r\n    constructor(model: Model, view: View) {\r\n        this.model = model;\r\n        this.view = view;\r\n        this.view.subscribe('default', this.model.calcPosition.bind(this.model));\r\n        this.model.subscribe('state', this.view.updateState.bind(this.view));\r\n        this.model.subscribe('default', this.view.changePosition.bind(this.view));\r\n        this.model.subscribe('direction', this.view.changeDirection.bind(this.view));\r\n        this.model.subscribe('type', this.view.changeType.bind(this.view));\r\n        this.model.subscribe('step', this.view.changeStep.bind(this.view));\r\n        this.model.subscribe('max', this.view.changeMaxMin.bind(this.view));\r\n        this.model.subscribe('min', this.view.changeMaxMin.bind(this.view));\r\n        this.model.subscribe('showBubble', this.view.showBubble.bind(this.view));\r\n        this.model.subscribe('hideBubble', this.view.hideBubble.bind(this.view));\r\n    }\r\n}\r\n\r\nexport {Presenter};\r\n","import {Observer} from './Observer';\r\nimport {\r\n    GetRelativeType, State, TargetType, TypeOfSlider, DirectionType\r\n} from './types/types';\r\nimport {NotifyData} from './types/types';\r\n\r\nclass Model extends Observer {\r\n    private state: State;\r\n\r\n    constructor(options: State) {\r\n        super();\r\n        this.state = Object.assign({}, options);\r\n    }\r\n\r\n    calcPosition(data: NotifyData): void {\r\n        let updatedValue: number;\r\n        let updatedProperty: TargetType;\r\n        if (data.target === 'valueTo') {\r\n            updatedProperty = 'valueTo';\r\n            updatedValue = this.calcUpdatedValue(data, updatedProperty);\r\n        } else if (data.target === 'value') {\r\n            const {\r\n                property,\r\n                value\r\n            } = this.calcValueHelper(data);\r\n            updatedValue = value;\r\n            updatedProperty = property;\r\n        } else {\r\n            updatedProperty = 'valueFrom';\r\n            updatedValue = this.calcUpdatedValue(data, updatedProperty);\r\n        }\r\n        updatedValue = Number(updatedValue.toFixed(2));\r\n        this.state = {\r\n            ...this.state,\r\n            [updatedProperty]: updatedValue\r\n        };\r\n        this.notify('state', {\r\n            target: updatedProperty,\r\n            valueNumber: updatedValue\r\n        });\r\n        let position = Model.getValueRelative({\r\n            value: updatedValue,\r\n            min: this.state.min,\r\n            max: this.state.max\r\n        });\r\n        position = Model.moreThan0LessThan1(position);\r\n        this.notify('default', {\r\n            target: updatedProperty,\r\n            valueNumber: position\r\n        });\r\n    }\r\n\r\n    set bubble(value: boolean) {\r\n        this.state.bubble = value;\r\n        if (value) {\r\n            this.notify('showBubble', {\r\n                target: 'bubble',\r\n                valueBoolean: value\r\n            });\r\n        } else {\r\n            this.notify('hideBubble', {\r\n                target: 'bubble',\r\n                valueBoolean: value\r\n            });\r\n        }\r\n    }\r\n\r\n    set direction(value: DirectionType) {\r\n        this.state.direction = value;\r\n        this.notify('direction', {\r\n            target: 'direction',\r\n            valueString: value\r\n        });\r\n    }\r\n\r\n    set type(value: TypeOfSlider) {\r\n        this.state.type = value;\r\n        this.notify('type', {\r\n            target: 'type',\r\n            valueString: value\r\n        });\r\n        if (this.state.min > this.state.valueFrom) {\r\n            this.from = this.state.min;\r\n        }\r\n        if (this.state.valueFrom > this.state.valueTo) {\r\n            this.from = this.state.valueTo;\r\n        }\r\n    }\r\n\r\n    set step(value: number) {\r\n        const stepIsValid = (val: number, max: number, min: number): boolean => {\r\n            return val < max - min && val > 0;\r\n        };\r\n        if (!stepIsValid(value, this.state.max, this.state.min)) throw new Error('Шаг не может быть больше разницы максимума и минимума или меньше нуля');\r\n        this.state.step = value;\r\n        this.notify('step', {\r\n            target: 'step',\r\n            valueNumber: value\r\n        });\r\n    }\r\n\r\n    get step(): number {\r\n        return this.state.step;\r\n    }\r\n\r\n    set max(value: number) {\r\n        if (value <= this.state.min) {\r\n            throw new Error('Максимум не может быть меньше или равен минимуму');\r\n        }\r\n        if (value < this.state.valueTo) {\r\n            this.to = value;\r\n            this.notify('state', {\r\n                target: 'valueTo',\r\n                valueNumber: value\r\n            });\r\n        }\r\n        this.state.max = value;\r\n        this.notify('max', {\r\n            target: 'max',\r\n            valueNumber: value\r\n        });\r\n    }\r\n\r\n    get max(): number {\r\n        return this.state.max;\r\n    }\r\n\r\n    set min(value: number) {\r\n        if (value >= this.state.max || value >= this.state.valueTo) {\r\n            throw new Error('Минимум не может быть больше или равен максимуму');\r\n        }\r\n        if (this.state.type === 'double' && value > this.state.valueFrom) {\r\n            this.from = value;\r\n            this.notify('state', {\r\n                target: 'valueFrom',\r\n                valueNumber: value\r\n            });\r\n        }\r\n        this.state.min = value;\r\n        this.notify('min', {\r\n            target: 'min',\r\n            valueNumber: value\r\n        });\r\n    }\r\n\r\n    get min(): number {\r\n        return this.state.min;\r\n    }\r\n\r\n    set to(value: number) {\r\n        this.state.valueTo = this.validValueTo(value);\r\n        this.notify('state', {\r\n            target: 'valueTo',\r\n            valueNumber: this.state.valueTo\r\n        });\r\n        let position = Model.getValueRelative({\r\n            value: this.state.valueTo,\r\n            min: this.state.min,\r\n            max: this.state.max\r\n        });\r\n        position = Model.moreThan0LessThan1(position);\r\n        this.notify('default', {\r\n            target: 'valueTo',\r\n            valueNumber: position\r\n        });\r\n    }\r\n\r\n    get valueTo(): number {\r\n        return this.state.valueTo;\r\n    }\r\n\r\n    set from(value: number) {\r\n        if (this.state.type === 'single') return;\r\n        this.state.valueFrom = Number(this.validValueFrom(value)\r\n            .toFixed(2));\r\n        this.notify('state', {\r\n            target: 'valueFrom',\r\n            valueNumber: this.state.valueFrom\r\n        });\r\n        let position = Model.getValueRelative({\r\n            value: this.state.valueFrom,\r\n            min: this.state.min,\r\n            max: this.state.max\r\n        });\r\n        position = Model.moreThan0LessThan1(position);\r\n        this.notify('default', {\r\n            target: 'valueFrom',\r\n            valueNumber: position\r\n        });\r\n    }\r\n\r\n    get valueFrom(): number {\r\n        return this.state.valueFrom;\r\n    }\r\n\r\n    private static moreThan0LessThan1(value: number): number {\r\n        let newValue = value;\r\n        newValue = newValue > 1 ? 1 : newValue;\r\n        newValue = newValue < 0 ? 0 : newValue;\r\n        return newValue;\r\n    }\r\n\r\n    private static getValueRelative({\r\n        value,\r\n        min,\r\n        max\r\n    }: GetRelativeType): number {\r\n        return (value - min) / (max - min);\r\n    }\r\n\r\n    private calcValue(value: number, updatedProperty = 'valueTo'): number {\r\n        let newValue: number = value;\r\n        newValue *= (this.state.max - this.state.min);\r\n        return this.state.min + this.calcValueByStep(newValue, updatedProperty);\r\n    }\r\n\r\n    private calcValueHelper(data: NotifyData) {\r\n        let updatedValue = this.calcUpdatedValueRelative(data);\r\n        let updatedProperty: TargetType;\r\n        if (this.state.type === 'single') {\r\n            updatedProperty = 'valueTo';\r\n        } else {\r\n            updatedProperty = this.isValueTo(updatedValue) ? 'valueTo' : 'valueFrom';\r\n        }\r\n        updatedValue = updatedProperty === 'valueFrom' ? this.validValueFrom(updatedValue) : this.validValueTo(updatedValue);\r\n        return {\r\n            property: updatedProperty,\r\n            value: updatedValue\r\n        };\r\n    }\r\n\r\n    private calcValueByStep(value: number, updatedProperty: string): number {\r\n        let newValue: number = value;\r\n        if (this.state.step === undefined) throw new Error('Значение step не определено');\r\n        const stepsInValue: number = newValue / this.state.step;\r\n        if (stepsInValue % 1 >= 0.5) {\r\n            newValue = this.state.step * Math.ceil(stepsInValue);\r\n        } else {\r\n            newValue = this.state.step * Math.floor(stepsInValue);\r\n        }\r\n        if (updatedProperty === 'valueTo') {\r\n            const maxSteps: number = (this.state.max - this.state.min) / this.state.step;\r\n            if (stepsInValue === maxSteps) {\r\n                newValue = this.state.min < 0\r\n                    ? this.state.max + Math.abs(this.state.min)\r\n                    : this.state.max;\r\n            }\r\n        }\r\n        const popRes: string | undefined = this.state.step.toString()\r\n            .split('.')\r\n            .pop();\r\n        let accuracy = 0;\r\n        if (popRes !== undefined) {\r\n            accuracy = this.state.step.toString()\r\n                .includes('.') ? (popRes.length) : 0;\r\n        }\r\n        return Number(newValue.toFixed(accuracy));\r\n    }\r\n\r\n    private validValueTo(valueTo: number): number {\r\n        if (valueTo > this.state.max) {\r\n            return this.state.max;\r\n        }\r\n        if (valueTo < this.state.min) {\r\n            return this.state.min;\r\n        }\r\n        if (this.state.type === 'double' && valueTo <= this.state.valueFrom) {\r\n            return this.state.valueFrom + this.state.step;\r\n        }\r\n        return valueTo;\r\n    }\r\n\r\n    private validValueFrom(valueFrom: number): number {\r\n        if (valueFrom < this.state.min) {\r\n            return this.state.min;\r\n        }\r\n        if (valueFrom >= this.state.valueTo) {\r\n            return this.state.valueTo - this.state.step;\r\n        }\r\n        return valueFrom;\r\n    }\r\n\r\n    private calcUpdatedValue(data: NotifyData, updatedProperty: string): number {\r\n        if (data.valueArray === undefined) {\r\n            throw new Error('Ожидался массив значений для Model');\r\n        }\r\n        const [headCoordinate, clientCoordinate, lineParameter,\r\n            lineCoordinate, swipeClient, halfHeadWidth] = data.valueArray;\r\n        const shift = clientCoordinate - headCoordinate;\r\n        let newPosition = (swipeClient - shift - lineCoordinate + halfHeadWidth)\r\n            / lineParameter;\r\n        newPosition = Model.moreThan0LessThan1(newPosition);\r\n        const updatedValue = this.calcValue(newPosition, updatedProperty);\r\n        return updatedProperty === 'valueTo' ? this.validValueTo(updatedValue) : this.validValueFrom(updatedValue);\r\n    }\r\n\r\n    private calcUpdatedValueRelative(data: NotifyData): number {\r\n        if (data.valueArray === undefined) {\r\n            throw new Error('Ожидался массив значений для Model');\r\n        }\r\n        const [lineParameter, lineCoordinate, clientCoordinate] = data.valueArray;\r\n        let newPositionRelative = (clientCoordinate - lineCoordinate) / lineParameter;\r\n        newPositionRelative = Model.moreThan0LessThan1(newPositionRelative);\r\n        return this.calcValue(newPositionRelative);\r\n    }\r\n\r\n    private isValueTo = (updatedValue: number): boolean => (updatedValue - this.state.valueFrom)\r\n        / (this.state.valueTo - this.state.valueFrom) >= 0.5;\r\n}\r\n\r\nexport {Model};\r\n","import {View} from './View';\r\nimport {Presenter} from './Presenter';\r\nimport {Model} from './Model';\r\nimport {DirectionType, State, TypeOfSlider} from './types/types';\r\n\r\nclass Slider {\r\n    view: View;\r\n\r\n    elem: HTMLElement;\r\n\r\n    presenter: Presenter;\r\n\r\n    model: Model;\r\n\r\n    constructor(elem: HTMLElement, settings: State) {\r\n        this.elem = elem;\r\n        this.model = new Model(settings);\r\n        this.view = new View(this.elem, settings);\r\n        this.view.init();\r\n        this.presenter = new Presenter(this.model, this.view);\r\n    }\r\n\r\n    hideBubble(): boolean {\r\n        this.model.bubble = false;\r\n        return true;\r\n    }\r\n\r\n    showBubble(): boolean {\r\n        this.model.bubble = true;\r\n        return true;\r\n    }\r\n\r\n    changeDirection(value: DirectionType): boolean {\r\n        this.model.direction = value;\r\n        return true;\r\n    }\r\n\r\n    changeType(value: TypeOfSlider): boolean {\r\n        this.model.type = value;\r\n        return true;\r\n    }\r\n\r\n    changeStep(value: number): boolean {\r\n        this.model.step = value;\r\n        return true;\r\n    }\r\n\r\n    changeTo(value: number): boolean {\r\n        this.model.to = value;\r\n        return true;\r\n    }\r\n\r\n    changeFrom(value: number): boolean {\r\n        this.model.from = value;\r\n        return true;\r\n    }\r\n\r\n    changeMax(value: number): boolean {\r\n        this.model.max = value;\r\n        return true;\r\n    }\r\n\r\n    changeMin(value: number): boolean {\r\n        this.model.min = value;\r\n        return true;\r\n    }\r\n\r\n    getMax(): number {\r\n        return this.model.max;\r\n    }\r\n\r\n    getMin(): number {\r\n        return this.model.min;\r\n    }\r\n\r\n    getValueTo(): number {\r\n        return this.model.valueTo;\r\n    }\r\n\r\n    getValueFrom(): number {\r\n        return this.model.valueFrom;\r\n    }\r\n\r\n    getStep(): number {\r\n        return this.model.step;\r\n    }\r\n}\r\n\r\nexport {Slider};\r\n","import {Slider} from './Slider';\r\n\r\n(function ($) {\r\n    const sliders = [];\r\n    const methods = {\r\n        init: function (options) {\r\n            const settings = $.extend({\r\n                bubble: true,\r\n                max: 100,\r\n                min: 0,\r\n                step: 1,\r\n                type: 'single',\r\n                valueTo: 100,\r\n                valueFrom: 5,\r\n                direction: 'horizontal',\r\n                onChangeTo: function () {\r\n                },\r\n                onChangeFrom: function () {\r\n                }\r\n            }, options);\r\n\r\n            return this.each(function () {\r\n                const ths = $(this);\r\n                if (settings.step > settings.max - settings.min) throw new Error('Шаг не может быть больше разницы максимума и минимума');\r\n                if (settings.step <= 0) throw new Error('Шаг должен быть больше нуля');\r\n                if (settings.valueTo > settings.max) throw new Error('Текущее значение не может быть больше максимума');\r\n                if (settings.valueFrom < settings.min) throw new Error('Текущее значение не может быть меньше минимума');\r\n                sliders.push(new Slider(ths[0], settings));\r\n            });\r\n        },\r\n        hideBubble: function () {\r\n            let slider;\r\n            sliders.forEach((x) => {\r\n                if (x.elem === this[0]) {\r\n                    slider = x;\r\n                }\r\n            });\r\n            slider.hideBubble();\r\n        },\r\n        showBubble: function () {\r\n            let slider;\r\n            sliders.forEach((x) => {\r\n                if (x.elem === this[0]) {\r\n                    slider = x;\r\n                }\r\n            });\r\n            slider.showBubble();\r\n        },\r\n        changeDirection: function (value) {\r\n            let slider;\r\n            sliders.forEach((x) => {\r\n                if (x.elem === this[0]) {\r\n                    slider = x;\r\n                }\r\n            });\r\n            slider.changeDirection(value);\r\n        },\r\n        changeType: function (value) {\r\n            let slider;\r\n            sliders.forEach((x) => {\r\n                if (x.elem === this[0]) {\r\n                    slider = x;\r\n                }\r\n            });\r\n            slider.changeType(value);\r\n        },\r\n        changeStep: function (value) {\r\n            let slider;\r\n            sliders.forEach((x) => {\r\n                if (x.elem === this[0]) {\r\n                    slider = x;\r\n                }\r\n            });\r\n            if (Number.isNaN(value)) throw new Error('step должно быть числом');\r\n            slider.changeStep(value);\r\n        },\r\n        changeTo: function (value) {\r\n            let slider;\r\n            sliders.forEach((x) => {\r\n                if (x.elem === this[0]) {\r\n                    slider = x;\r\n                }\r\n            });\r\n            if (Number.isNaN(value)) throw new Error('valueTo должно быть числом');\r\n            slider.changeTo(value);\r\n        },\r\n        changeFrom: function (value) {\r\n            let slider;\r\n            sliders.forEach((x) => {\r\n                if (x.elem === this[0]) {\r\n                    slider = x;\r\n                }\r\n            });\r\n            if (Number.isNaN(value)) throw new Error('valueFrom должно быть числом');\r\n            slider.changeFrom(value);\r\n        },\r\n        changeMax: function (value) {\r\n            let slider;\r\n            sliders.forEach((x) => {\r\n                if (x.elem === this[0]) {\r\n                    slider = x;\r\n                }\r\n            });\r\n            if (Number.isNaN(value)) throw new Error('valueFrom должно быть числом');\r\n            slider.changeMax(value);\r\n        },\r\n        getMax: function () {\r\n            let slider;\r\n            sliders.forEach((x) => {\r\n                if (x.elem === this[0]) {\r\n                    slider = x;\r\n                }\r\n            });\r\n            return slider.getMax();\r\n        },\r\n        getMin: function () {\r\n            let slider;\r\n            sliders.forEach((x) => {\r\n                if (x.elem === this[0]) {\r\n                    slider = x;\r\n                }\r\n            });\r\n            return slider.getMin();\r\n        },\r\n        getValueTo: function () {\r\n            let slider;\r\n            sliders.forEach((x) => {\r\n                if (x.elem === this[0]) {\r\n                    slider = x;\r\n                }\r\n            });\r\n            return slider.getValueTo();\r\n        },\r\n        getValueFrom: function () {\r\n            let slider;\r\n            sliders.forEach((x) => {\r\n                if (x.elem === this[0]) {\r\n                    slider = x;\r\n                }\r\n            });\r\n            return slider.getValueFrom();\r\n        },\r\n        getStep: function () {\r\n            let slider;\r\n            sliders.forEach((x) => {\r\n                if (x.elem === this[0]) {\r\n                    slider = x;\r\n                }\r\n            });\r\n            return slider.getStep();\r\n        },\r\n        changeMin: function (value) {\r\n            let slider;\r\n            sliders.forEach((x) => {\r\n                if (x.elem === this[0]) {\r\n                    slider = x;\r\n                }\r\n            });\r\n            if (Number.isNaN(value)) throw new Error('valueFrom должно быть числом');\r\n            slider.changeMin(value);\r\n        }\r\n\r\n    };\r\n    // eslint-disable-next-line no-param-reassign\r\n    $.fn.Slider = function (method) {\r\n        if (methods[method]) {\r\n            return methods[method].apply(this, Array.prototype.slice.call(arguments, 1));\r\n        }\r\n        if (typeof method === 'object' || !method) {\r\n            return methods.init.apply(this, arguments);\r\n        }\r\n        $.error('Метод с именем ' + method + ' не существует для jQuery.slider');\r\n        return null;\r\n    };\r\n}(jQuery));\r\n","import './slider-template.scss';\r\nimport '../../slider/jquery.slider.js';\r\nimport {State} from '../../slider/types/types';\r\nimport {rootLogger} from 'ts-jest';\r\n\r\nclass SliderTemplate {\r\n    private readonly element: JQuery;\r\n\r\n    private $bubbleButton: JQuery | undefined;\r\n\r\n    private $verticalButton: JQuery | undefined;\r\n\r\n    private $rangeButton: JQuery | undefined;\r\n\r\n    private $stepInput: JQuery | undefined;\r\n\r\n    private $toInput: JQuery | undefined;\r\n\r\n    private $fromInput: JQuery | undefined;\r\n\r\n    private $maxInput: JQuery | undefined;\r\n\r\n    private $minInput: JQuery | undefined;\r\n\r\n    private slider: JQuery | undefined;\r\n\r\n    constructor(element: HTMLElement, settings: State) {\r\n        this.element = $(element);\r\n        this.init(settings);\r\n    }\r\n\r\n    init(settings: State): void {\r\n        this.$bubbleButton = $(this.element.find('.js-slider-template__inner-input-bubble'));\r\n        this.$verticalButton = $(this.element.find('.js-slider-template__inner-input-vertical'));\r\n        this.$rangeButton = $(this.element.find('.js-slider-template__inner-input-range'));\r\n        this.$stepInput = $(this.element.find('.js-slider-template__inner-input-step'));\r\n        this.$toInput = $(this.element.find('.js-slider-template__inner-input-to'));\r\n        this.$fromInput = $(this.element.find('.js-slider-template__inner-input-from'));\r\n        this.$maxInput = $(this.element.find('.js-slider-template__inner-input-max'));\r\n        this.$minInput = $(this.element.find('.js-slider-template__inner-input-min'));\r\n        const options = Object.assign(settings, {\r\n            onChangeTo: (value: number) => {\r\n                this.$toInput?.val(value);\r\n            },\r\n            onChangeFrom: (value: number) => {\r\n                this.$fromInput?.val(value);\r\n            }\r\n        });\r\n        this.slider = $(this.element.find('.slider'))\r\n            .Slider(options);\r\n        this.setup();\r\n    }\r\n\r\n    setup(): void {\r\n        this.$bubbleButton?.on('click', this.handleBubbleButtonClick);\r\n        this.$verticalButton?.on('click', this.handleVerticalButtonClick);\r\n        this.$rangeButton?.on('click', this.handleRangeButtonClick);\r\n        if (!this.$rangeButton?.is(':checked')) {\r\n            this.$fromInput?.parent()\r\n                .addClass('slider-template__label_hide');\r\n        }\r\n        this.$stepInput?.on('change', this.handleStepInputChange);\r\n        this.$stepInput?.val(String(this.slider?.Slider('getStep')));\r\n        this.$toInput?.on('change', this.handleToInputChange);\r\n        this.$toInput?.val(String(this.slider?.Slider('getValueTo')));\r\n        this.$fromInput?.on('change', this.handleFromInputChange);\r\n        this.$fromInput?.val(String(this.slider?.Slider('getValueFrom')));\r\n        this.$maxInput?.on('change', this.handleMaxInputChange);\r\n        this.$maxInput?.val(String(this.slider?.Slider('getMax')));\r\n        this.$minInput?.on('change', this.handleMinInputChange);\r\n        this.$minInput?.val(String(this.slider?.Slider('getMin')));\r\n    }\r\n\r\n    handleBubbleButtonClick = (e: JQuery.ClickEvent): void => {\r\n        e.target.checked ? this.slider?.Slider('showBubble') : this.slider?.Slider('hideBubble');\r\n    };\r\n\r\n    handleVerticalButtonClick = (e: JQuery.ClickEvent): void => {\r\n        e.target.checked ? this.slider?.Slider('changeDirection', 'vertical') : this.slider?.Slider('changeDirection', 'horizontal');\r\n    };\r\n\r\n    handleRangeButtonClick = (e: JQuery.ClickEvent): void => {\r\n        if (e.target.checked) {\r\n            this.slider?.Slider('changeType', 'double');\r\n            this.$fromInput?.parent()\r\n                .removeClass('slider-template__label_hide');\r\n        } else {\r\n            this.slider?.Slider('changeType', 'single');\r\n            this.$fromInput?.parent()\r\n                .addClass('slider-template__label_hide');\r\n        }\r\n    };\r\n\r\n    handleStepInputChange = (e: JQuery.ChangeEvent): void => {\r\n        try {\r\n            this.slider?.Slider('changeStep', parseFloat(e.target.value));\r\n            const step = this.slider?.Slider('getStep');\r\n            this.$toInput?.attr('step', String(step));\r\n            this.$fromInput?.attr('step', String(step));\r\n        } catch (error) {\r\n            e.target.value = this.slider?.Slider('getStep');\r\n        }\r\n    };\r\n\r\n    handleToInputChange = (e: JQuery.ChangeEvent): void => {\r\n        this.slider?.Slider('changeTo', parseFloat(e.target.value));\r\n    };\r\n\r\n    handleFromInputChange = (e: JQuery.ChangeEvent): void => {\r\n        this.slider?.Slider('changeFrom', parseFloat(e.target.value));\r\n    };\r\n\r\n    handleMaxInputChange = (e: JQuery.ChangeEvent): void => {\r\n        try {\r\n            this.slider?.Slider('changeMax', parseFloat(e.target.value));\r\n        } catch (error) {\r\n            e.target.value = this.slider?.Slider('getMax');\r\n        }\r\n    };\r\n\r\n    handleMinInputChange = (e: JQuery.ChangeEvent): void => {\r\n        try {\r\n            this.slider?.Slider('changeMin', parseFloat(e.target.value));\r\n        } catch (error) {\r\n            e.target.value = this.slider?.Slider('getMin');\r\n        }\r\n    };\r\n}\r\n\r\nexport default SliderTemplate;\r\n","import './index.scss';\r\nimport '../blocks/slider-block/slider-block.scss';\r\nimport '../slider/jquery.slider';\r\nimport '../blocks/slider-template/slider-template';\r\nimport SliderTemplate from '../blocks/slider-template/slider-template';\r\nimport {State} from '../slider/types/types';\r\n\r\n$(function () {\r\n    const settings: State[] = [\r\n        {\r\n            bubble: true,\r\n            direction: 'horizontal',\r\n            max: 100,\r\n            min: 0,\r\n            step: 1,\r\n            type: 'double',\r\n            valueTo: 100,\r\n            valueFrom: 0,\r\n            onChangeTo: function () {\r\n            },\r\n            onChangeFrom: function () {\r\n            }\r\n        },\r\n        {\r\n            bubble: false,\r\n            direction: 'vertical',\r\n            max: 90,\r\n            min: 5,\r\n            step: 2,\r\n            type: 'single',\r\n            valueTo: 50,\r\n            valueFrom: 15,\r\n            onChangeTo: function () {\r\n            },\r\n            onChangeFrom: function () {\r\n            }\r\n        },\r\n        {\r\n            bubble: true,\r\n            direction: 'horizontal',\r\n            max: 1000,\r\n            min: -100,\r\n            step: 30,\r\n            type: 'single',\r\n            valueTo: 780,\r\n            valueFrom: -5,\r\n            onChangeTo: function () {\r\n            },\r\n            onChangeFrom: function () {\r\n            }\r\n        }\r\n    ];\r\n    $('.slider-template')\r\n        .each((index, element) => {\r\n            // eslint-disable-next-line no-new\r\n            new SliderTemplate(element, settings[index]);\r\n        });\r\n});\r\n"],"names":["Observer","this","observers","subscribe","eventType","observer","push","unsubscribe","filter","item","notify","data","forEach","$7f7f88587dcc82e7$export$2e2bcd8739ae039","parent","type","element","document","createElement","init","classList","add","setAttribute","append","update","value","textContent","String","onActive","offActive","remove","show","hide","$443d33087eac4543$export$2e2bcd8739ae039","constructor","direction","bubbleValue","handleHeadStart","e","headEvent","CustomEvent","detail","dispatchEvent","bubble","HeadBubble","updatePosition","updateBubble","addEventListener","removeHead","newPos","style","left","top","showBubble","hideBubble","width","getBoundingClientRect","height","high","down","$0107047da07a407d$export$2e2bcd8739ae039","min","max","handleScaleClick","step","i","dash","scaleNumber","numbers","querySelectorAll","number","length","innerHTML","dashValue","Number","isInteger","toFixed","removeScale","leftCoordinate","topCoordinate","$790a1a2e6b71ddca$export$2e2bcd8739ae039","progressBar","Type","progressValue","to","from","undefined","parseInt","removeLine","View","elem","options","super","evt","getEvent","target","updatedHead","hasAttribute","dataArray","state","clientX","clientY","handleSwipe","event","swipeAction","passive","handleSwipeEnd","preventDefault","evtSwipe","line","head","valueArray","slice","splice","onEndWork","removeEventListener","scaleClickData","changeZIndex","Object","assign","Line","scale","Scale","headStartPos","calcHeadStartPosition","valueTo","ViewHead","head2StartPos","valueFrom","head2","setup","changePosition","position","valueNumber","Error","onChangeTo","onChangeFrom","updateState","valueBoolean","changeDirection","valueString","reInit","changeType","changeStep","changeMaxMin","getValueFromData","entries","key","TouchEvent","touches","isInCorner","Presenter","model","view","calcPosition","bind","Model","isValueTo","updatedValue","updatedProperty","calcUpdatedValue","property","calcValueHelper","getValueRelative","moreThan0LessThan1","val","validValueTo","validValueFrom","newValue","calcValue","calcValueByStep","calcUpdatedValueRelative","stepsInValue","Math","ceil","floor","abs","popRes","toString","split","pop","accuracy","includes","clientCoordinate","headCoordinate","lineParameter","lineCoordinate","swipeClient","halfHeadWidth","newPosition","newPositionRelative","Slider","settings","presenter","changeTo","changeFrom","changeMax","changeMin","getMax","getMin","getValueTo","getValueFrom","getStep","$","sliders","methods","extend","each","ths","slider","x","isNaN","fn","method","apply","Array","prototype","call","arguments","error","jQuery","$ac628bb2660317a7$export$2e2bcd8739ae039","handleBubbleButtonClick","checked","handleVerticalButtonClick","handleRangeButtonClick","$fromInput","removeClass","addClass","handleStepInputChange","parseFloat","$toInput","attr","handleToInputChange","handleFromInputChange","handleMaxInputChange","handleMinInputChange","$bubbleButton","find","$verticalButton","$rangeButton","$stepInput","$maxInput","$minInput","on","is","index","SliderTemplate"],"version":3,"file":"index.c28d95c3.js.map"}